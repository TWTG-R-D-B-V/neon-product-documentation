var decoder = require('./decoder-vs-qt_rev-3.js');

// var bootPattern = [0x20, 0x02, 0xd3, 0xab, 0x31, 0x6a, 0x87, 0x67, 0x41, 0x48, 0xb0, 0xce, 0x0a, 0x06, 0x05, 0x3d, 0x01, 0xff, 0x80, 0xa7, 0xf5, 0x00, 0x08, 0x07, 0xf5];
var bootPattern = [0x20, 0x02, 0xd3, 0xab, 0x31, 0x6a, 0x49, 0x2d, 0x41, 0x48, 0xb0, 0xce, 0x0a, 0x09, 0x04, 0x01, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x07, 0xf5];
function decode(tag, bytestring) {
  console.log("###### " + tag)
  console.log("Bytestring (hexidecimal):")
  console.log("```")
  console.log(Buffer.from(bytestring).toString('hex'))
  console.log("```")
  var object = decoder.Decode(15, bytestring);
  console.log("JSON:")
  console.log("```json")
  console.log(JSON.stringify(object, null, 4))
  console.log("```")
}

console.log("##### Decoding")
decode("Boot message", bootPattern)
